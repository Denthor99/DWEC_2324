<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <style type="text/css">
      input:invalid {
        border: 1px solid red;
      }
      input:valid {
        border: 1px solid green;
      }
    </style>
    <script>
      class BajaVehiculo {
        #modificaDNI() {
          var mod = document.getElementById("modificarDNI").textContent = "Editando DNI....";
        }
    
        #dniOriginal() {
          var dni = document.getElementById("modificarDNI").textContent = "DNI:";
        }
    
        #valida() {
          var matr = document.getElementById("matricula");
          if (matr.validity.patternMismatch) {
            matr.setCustomValidity("Formato de matrícula erróneo (4 números + 3 letras)!!");
          } else {
            matr.setCustomValidity("");
          }
        }
    
        #comprobarDNI() {
          var labelOrigin = document.getElementById("modificarDNI");
          var inputOrigin = document.getElementById("inputDNI");
    
          inputOrigin.addEventListener('focus', () => {
            labelOrigin.textContent = "Editando DNI...";
          });
    
          inputOrigin.addEventListener('blur', () => {
            labelOrigin.textContent = "DNI:";
          });
        }
    
        losEventos() {
          var matr = document.getElementById("matricula");
          matr.addEventListener("keyup", this.#valida.bind(this));
    
          var dni = document.getElementById("inputDNI");
          dni.addEventListener("focus", this.#modificaDNI.bind(this));
          dni.addEventListener("blur", this.#dniOriginal.bind(this));
        }
      }
    
      // Instancia la clase BajaVehiculo
      var eventos = new BajaVehiculo();
      window.onload = function () {
        eventos.losEventos();
      };
    </script>
    
  </head>
  <body>
    <div class="container text-left">
      <header class="pb-3 mb-4 border-bottom">
        <span class="fs-4">Solicitud de baja de vehículos</span>
      </header>
      <div class="mb-3">
        <form id="form1" method="GET">
          <div class="row g-3">
            <h3>Datos del vehículo:</h3>
            <div class="col-md-2">
              <label class="form-label">Matrícula:</label>
              <input
                id="matricula"
                type="text"
                class="form-control"
                pattern="^[0-9]{4}[A-Z]{3}$"
                required
              />
            </div>
            <div class="col-md-2">
              <label class="form-label">Fecha Matriculación:</label>
              <input
                type="date"
                class="form-control"
                placeholder="dd/mm/aaaa"
                required
              />
            </div>
            <div class="col-md-5">
              <label class="form-label">6 últimos dígitos (nº bastidor):</label>
              <input
                type="text"
                class="form-control"
                size="6"
                maxlength="6"
                pattern="[0-9]{6}"
                required
              />
            </div>
          </div>
          <br />
          <div class="row g-3">
            <h3>Datos del titular:</h3>
            <div class="col-md-2">
              <label class="form-label">Nombre:</label>
              <input
                type="text"
                class="form-control"
                minlenght="6"
                maxlenght="20"
                required
              />
            </div>
            <div class="col-md-2">
              <label class="form-label">Apellidos:</label>
              <input type="text" class="form-control" required />
            </div>
            <div class="col-md-5">
              <label class="form-label">Domicilio:</label>
              <input type="text" class="form-control" required />
            </div>
          </div>
          <br />
          <div class="row g-4">
            <div class="col-auto">
              <label class="form-label" id="modificarDNI">DNI:</label>
              <input
                type="text"
                class="form-control"
                pattern="^[0-9]{8}[TRWAGMYFPDXBNJZSQVHLCKET]$"
                id="inputDNI"
                required
              />
            </div>
            <div class="col-auto">
              <label class="form-label">Correo electrónico:</label>
              <input type="email" class="form-control" required />
            </div>
            <div class="col-auto">
              <label class="form-label">Tlf:</label>
              <input type="text" class="form-control" size="9" maxlength="9" pattern="[0-9]{9}" required/>
            </div>
            <div class="col-auto">
              <label class="form-label">Tipo de baja:</label>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="flexRadioDefault"
                  id="flexRadioDefault1"
                  required
                />
                <label class="form-check-label"> Temporal </label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="flexRadioDefault"
                  id="flexRadioDefault2"
                  required
                />
                <label class="form-check-label"> Definitiva </label>
              </div>
            </div>
          </div>
          <br />
          <button type="submit" class="btn btn-primary">Enviar</button>
        </form>
      </div>
    </div>

    <!--JS de BootStrap-->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
